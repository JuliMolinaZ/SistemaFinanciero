/* üé® SISTEMA DE TOKENS CSS - DISE√ëO UNIFICADO */
/* ============================================== */

:root[data-theme="dark"] {
  /* üéØ SUPERFICIES - SISTEMA UNIFICADO */
  --surface:    hsl(222 47% 9%);   /* fondo modal/sheet */
  --surface-2:  hsl(222 36% 12%);  /* secciones/cards */
  --surface-3:  hsl(222 28% 16%);  /* inputs/controles */
  --border:     hsl(215 16% 22%);
  --divider:    hsl(215 16% 20%);

  /* üìù TEXTO CON CONTRASTE AA */
  --text-primary:   hsl(210 40% 98%);
  --text-secondary: hsl(215 20% 72%);

  /* üéØ COLORES SEM√ÅNTICOS - UN SOLO ACENTO */
  --primary:   hsl(221 83% 64%);  /* azul de acci√≥n */
  --success:   hsl(160 84% 45%);
  --warning:   hsl(38 92% 55%);
  --danger:    hsl(0 84% 60%);

  /* üîç FOCUS RING */
  --ring: var(--primary);
  --ring-offset: var(--surface);
  
  /* ‚ö° TRANSICIONES SUAVES */
  --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-normal: 200ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 300ms cubic-bezier(0.4, 0, 0.2, 1);
  
  /* üé≠ SOMBRAS OSCURAS */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.4), 0 2px 4px -2px rgb(0 0 0 / 0.4);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.5), 0 4px 6px -4px rgb(0 0 0 / 0.5);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.6), 0 8px 10px -6px rgb(0 0 0 / 0.6);
  --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.7);
}

/* üîÑ TEMA BASE SIN DATA-THEME (DEFAULT OSCURO) */
:root {
  /* üéØ SUPERFICIES - SISTEMA UNIFICADO */
  --surface:    hsl(222 47% 9%);   /* fondo modal/sheet */
  --surface-2:  hsl(222 36% 12%);  /* secciones/cards */
  --surface-3:  hsl(222 28% 16%);  /* inputs/controles */
  --border:     hsl(215 16% 22%);
  --divider:    hsl(215 16% 20%);

  /* üìù TEXTO CON CONTRASTE AA */
  --text-primary:   hsl(210 40% 98%);
  --text-secondary: hsl(215 20% 72%);

  /* üéØ COLORES SEM√ÅNTICOS - UN SOLO ACENTO */
  --primary:   hsl(221 83% 64%);  /* azul de acci√≥n */
  --success:   hsl(160 84% 45%);
  --warning:   hsl(38 92% 55%);
  --danger:    hsl(0 84% 60%);

  /* üîç FOCUS RING */
  --ring: var(--primary);
  --ring-offset: var(--surface);
  
  /* ‚ö° TRANSICIONES SUAVES */
  --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-normal: 200ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 300ms cubic-bezier(0.4, 0, 0.2, 1);
  
  /* üé≠ SOMBRAS OSCURAS */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.4), 0 2px 4px -2px rgb(0 0 0 / 0.4);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.5), 0 4px 6px -4px rgb(0 0 0 / 0.5);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.6), 0 8px 10px -6px rgb(0 0 0 / 0.6);
  --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.7);
}

/* ‚òÄÔ∏è TEMA CLARO */
[data-theme="light"] {
  --bg: hsl(0 0% 100%);
  --surface-1: hsl(210 20% 98%);
  --surface-2: hsl(210 16% 96%);
  --surface-3: hsl(210 16% 94%);
  --surface-4: hsl(210 16% 92%);
  
  --text-primary: hsl(222 47% 11%);
  --text-secondary: hsl(222 16% 42%);
  --text-tertiary: hsl(222 16% 55%);
  --text-disabled: hsl(222 16% 70%);
  
  --border: hsl(222 16% 85%);
  --border-subtle: hsl(222 16% 90%);
  --border-strong: hsl(222 16% 80%);
  
  --ring: hsl(221 83% 53%);
  --ring-offset: hsl(0 0% 100%);
  
  /* Ajustar colores de advertencia para tema claro */
  --warning-foreground: hsl(222 47% 11%);
  
  /* Ajustar sombras para tema claro */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);
}

/* üéØ UTILIDADES DE COLORES SEM√ÅNTICOS */
.bg-primary { background-color: var(--primary); }
.bg-success { background-color: var(--success); }
.bg-warning { background-color: var(--warning); }
.bg-danger { background-color: var(--danger); }

.text-primary { color: var(--text-primary); }
.text-secondary { color: var(--text-secondary); }
.text-tertiary { color: var(--text-tertiary); }

.border-subtle { border-color: var(--border-subtle); }
.border-strong { border-color: var(--border-strong); }

/* üîç ESTADOS DE FOCUS */
.focus-ring:focus-visible {
  outline: 2px solid var(--ring);
  outline-offset: 2px;
}

/* üì± RESPONSIVE UTILITIES */
@media (max-width: 640px) {
  :root {
    --space-4: 0.75rem;
    --space-6: 1rem;
    --space-8: 1.5rem;
  }
}

/* üé® UTILIDADES DE CONTRASTE */
.high-contrast {
  --text-primary: hsl(210 40% 100%);
  --text-secondary: hsl(215 20% 90%);
  --border: hsl(215 16% 40%);
}

/* ‚ôø ACCESIBILIDAD */
@media (prefers-reduced-motion: reduce) {
  :root {
    --transition-fast: 0ms;
    --transition-normal: 0ms;
    --transition-slow: 0ms;
  }
}

/* üéØ CLASES DE UTILIDAD DEL SISTEMA UNIFICADO */

/* ‚úÖ CONTENEDORES MODALES/SHEETS */
.modal-wrapper {
  border-radius: 1rem;
  border: 1px solid var(--border);
  background: var(--surface);
  box-shadow: var(--shadow-2xl);
}

.modal-header {
  border-bottom: 1px solid var(--border);
  background: var(--surface);
}

.modal-tablist {
  background: var(--surface);
  border-bottom: 1px solid var(--border);
  position: sticky;
  top: 0;
  z-index: 10;
}

/* ‚úÖ SECCIONES REUTILIZABLES */
.section-container {
  border-radius: 0.75rem;
  border: 1px solid var(--border);
  background: var(--surface-2);
  padding: 1rem;
}

@media (min-width: 768px) {
  .section-container {
    padding: 1.25rem;
  }
}

.section-header {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 0.75rem;
}

.section-icon {
  width: 1rem;
  height: 1rem;
  color: var(--text-secondary);
}

.section-title {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--text-primary);
}

/* ‚úÖ INPUTS Y CONTROLES UNIFICADOS */
.input-base {
  background: var(--surface-3);
  border: 1px solid var(--border);
  color: var(--text-primary);
  border-radius: 0.75rem;
  padding: 0.625rem 0.875rem;
  transition: var(--transition-fast);
}

.input-base::placeholder {
  color: var(--text-secondary);
}

.input-base:focus-visible {
  outline: none;
  ring: 2px var(--primary);
  ring-offset: 2px;
  ring-offset-color: var(--surface);
}

/* ‚úÖ TABS UNIFICADOS */
.tab-inactive {
  color: var(--text-secondary);
  transition: var(--transition-fast);
}

.tab-active {
  color: var(--text-primary);
  position: relative;
}

.tab-active::after {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  bottom: -1px;
  height: 2px;
  background: var(--primary);
  border-radius: 9999px;
}

/* ‚úÖ BOTONES UNIFICADOS */
.btn-primary {
  background: var(--primary);
  color: white;
  transition: var(--transition-fast);
}

.btn-primary:hover {
  filter: brightness(1.1);
}

.btn-primary:active {
  filter: brightness(0.95);
}

.btn-outline {
  border: 1px solid var(--border);
  background: transparent;
  color: var(--text-primary);
  transition: var(--transition-fast);
}

.btn-outline:hover {
  background: var(--surface-2);
}

.btn-ghost {
  color: var(--text-secondary);
  background: transparent;
  transition: var(--transition-fast);
}

.btn-ghost:hover {
  color: var(--text-primary);
  background: var(--surface-2);
}

.btn-destructive {
  background: var(--danger);
  color: white;
  transition: var(--transition-fast);
}

.btn-destructive:hover {
  filter: brightness(1.1);
}

/* ‚úÖ BADGES SOFT UNIFICADOS */
.badge-soft {
  display: inline-flex;
  height: 1.5rem;
  align-items: center;
  border-radius: 9999px;
  padding: 0 0.625rem;
  font-size: 0.75rem;
  font-weight: 500;
  background: var(--surface-3);
  border: 1px solid var(--border);
  color: var(--text-primary);
}

/* Dots para prioridades */
.priority-dot {
  width: 0.5rem;
  height: 0.5rem;
  border-radius: 50%;
  margin-right: 0.5rem;
}

.priority-high { background: var(--danger); }
.priority-medium { background: var(--warning); }
.priority-low { background: var(--success); }
.priority-critical { background: hsl(0 84% 50%); }

/* ‚úÖ SEPARADORES */
.divider {
  border-top: 1px solid var(--divider);
  margin: 1rem 0;
}

/* ‚úÖ TIPOGRAF√çA */
.text-base-semibold {
  font-size: 1rem;
  font-weight: 600;
}

.text-sm-secondary {
  font-size: 0.875rem;
  color: var(--text-secondary);
}

.tabular-nums {
  font-variant-numeric: tabular-nums;
}

/* ‚ôø ACCESIBILIDAD */
@media (prefers-reduced-motion: reduce) {
  * {
    transition-duration: 0.01ms !important;
    animation-duration: 0.01ms !important;
  }
}

/* üìñ SCREEN READER ONLY */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}
